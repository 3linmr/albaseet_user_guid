# نقل بضاعة داخلي

## الوصف
شاشة إدارة نقل البضاعة الداخلي، تتيح إنشاء عمليات تحويل أصناف من مخزن إلى مخزن آخر داخل المؤسسة.

## الوظائف
- عرض قائمة عمليات النقل الداخلي
- إضافة عملية نقل جديدة
- تعديل عملية نقل موجودة
- حذف عملية نقل
- البحث والتصفية
- تصدير البيانات
- طباعة التقرير

## الحقول المعروضة في الجدول
- **رقم السند**: الرقم التسلسلي للسند (مثل IT-1, IT-2, IT-5)
- **من مخزن**: المخزن المرسل (مثل "متجر السعادة")
- **إلى مخزن**: المخزن المستلم (مثل "موقع 2")
- **تاريخ السند**: تاريخ التحويل
- **إجمالي سعر البيع**: إجمالي سعر البيع للتحويل
- **إجمالي سعر التكلفة**: إجمالي سعر التكلفة للتحويل
- **حالة التحويل الداخلي**: حالة التحويل (معلق – تم استلامه – تم إرجاعه)
- **مرجع ومرجح**: لإدارة الربط أو المراجعة

## الحقول المطلوبة عند الإضافة/التعديل
- **رقم السند** (إلزامي)
- **من مخزن** (إلزامي) - قائمة منسدلة
- **إلى مخزن** (إلزامي) - قائمة منسدلة
- **تاريخ السند** (إلزامي) - تاريخ
- **إجمالي سعر البيع** (إلزامي) - رقم
- **إجمالي سعر التكلفة** (إلزامي) - رقم
- **حالة التحويل** (إلزامي) - قائمة منسدلة
- **المرجع والمرجح** (اختياري)
- **الملاحظات** (اختياري)

## أمثلة من البيانات الموجودة
- **السند IT-5** بتاريخ 28/07/2025 من "متجر السعادة" إلى "موقع 2"، التكلفة 51.40 وحالة السند "معلق"
- **السند IT-4** بنفس التاريخ وحالته "تم استلامه"

## أزرار التحكم
- **إضافة جديد**: لفتح نموذج إضافة نقل جديد
- **تعديل**: لتعديل عملية النقل المحددة
- **حذف**: لحذف عملية النقل المحددة
- **بحث**: للبحث في قائمة عمليات النقل
- **تصدير**: لتصدير البيانات
- **طباعة**: لطباعة التقرير

## الربط الخلفي
- `Shared.API/Controllers/Inventory/InternalTransferController`
- `Shared.API/Controllers/Inventory/InventoryController`
- `Shared.API/Controllers/Setup/LocationsController`

## التفاصيل التقنية
- التحقق من صحة البيانات المدخلة
- ربط عمليات النقل بالمخازن
- إدارة حالة عمليات النقل
- التحقق من عدم تكرار أرقام السندات
- تصدير البيانات بتنسيقات مختلفة
- طباعة تقارير النقل
- حساب إجماليات الأسعار تلقائياً
- تحديث رصيد المخازن تلقائياً
- التحقق من توفر الكميات في المخزن المرسل
- إدارة حالات التحويل المختلفة
