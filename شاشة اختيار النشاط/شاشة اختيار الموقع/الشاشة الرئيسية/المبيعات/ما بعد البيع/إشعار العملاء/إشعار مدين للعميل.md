# إشعار مدين للعميل

## الوصف
شاشة إدارة إشعارات مدين العملاء، تتيح إصدار إشعارات تخصم أو تقلل من قيمة الفاتورة.

## الوظائف
- عرض قائمة إشعارات مدين العملاء
- إضافة إشعار مدين جديد
- تعديل إشعار مدين موجود
- حذف إشعار مدين
- البحث والتصفية
- تصدير البيانات
- طباعة التقرير

## الحقول المعروضة في الجدول
- **م**: رقم تسلسلي
- **رقم السند**: رقم الإشعار
- **الرقم المرجعي**: رقم مرجعي للربط مع المستندات الأخرى
- **رقم فاتورة البيع**: الفاتورة المرتبطة بالإشعار
- **العميل**: اسم العميل
- **الموقع**: المخزن أو الموقع الذي ارتبطت به الفاتورة
- **تاريخ السند**: تاريخ إصدار الإشعار
- **مبلغ الإشعار**: قيمة الإشعار
- **القيمة الصافية**: صافي المبلغ بعد الخصومات
- **قيمة الضريبة**: قيمة ضريبة القيمة المضافة
- **نسبة الضريبة**: النسبة المئوية للضريبة
- **إجمالي**: المجموع النهائي
- **أدوات**: أزرار التحكم (تعديل، تفاصيل، طباعة، حذف)

## الحقول المطلوبة عند الإضافة/التعديل
- **رقم السند** (إلزامي)
- **الرقم المرجعي** (إلزامي)
- **رقم فاتورة البيع** (إلزامي) - قائمة منسدلة
- **العميل** (إلزامي) - قائمة منسدلة
- **الموقع** (إلزامي) - قائمة منسدلة
- **تاريخ السند** (إلزامي) - تاريخ
- **مبلغ الإشعار** (إلزامي) - رقم
- **القيمة الصافية** (إلزامي) - رقم
- **قيمة الضريبة** (إلزامي) - رقم
- **نسبة الضريبة** (إلزامي) - رقم
- **إجمالي** (إلزامي) - رقم
- **السبب** (إلزامي) - نص
- **الملاحظات** (اختياري)

## أزرار التحكم
- **إضافة جديد**: لفتح نموذج إضافة إشعار مدين جديد
- **بحث**: للبحث في قائمة الإشعارات
- **تصدير**: لتصدير البيانات
- **طباعة**: لطباعة التقرير

## عمود الأدوات
- **تعديل**: لتعديل الإشعار المحدد
- **تفاصيل**: لعرض تفاصيل الإشعار المحدد
- **طباعة**: لطباعة الإشعار المحدد
- **حذف**: لحذف الإشعار المحدد

## الربط الخلفي
- `Shared.API/Controllers/Sales/CustomerDebitNoteController`
- `Shared.API/Controllers/Sales/SalesInvoiceController`
- `Shared.API/Controllers/Setup/CustomersController`
- `Shared.API/Controllers/Setup/LocationsController`

## التفاصيل التقنية
- التحقق من صحة البيانات المدخلة
- ربط الإشعارات بفواتير البيع والعملاء
- إدارة حالة الإشعارات
- التحقق من عدم تكرار أرقام السندات
- تصدير البيانات بتنسيقات مختلفة
- طباعة تقارير الإشعارات
- حساب الضرائب تلقائياً
- تحديث رصيد العميل تلقائياً
- التحقق من صحة فاتورة البيع
- التحقق من صحة العميل والموقع
