# مرتجع من فاتورة الشراء

## الوصف
شاشة إدارة مرتجع كميات من فاتورة، تتيح إرجاع كميات من فاتورة شراء محددة.

## الوظائف
- عرض قائمة مرتجعات فواتير الشراء
- إضافة مرتجع من فاتورة شراء جديد
- تعديل مرتجع من فاتورة شراء موجود
- حذف مرتجع من فاتورة شراء
- البحث والتصفية
- تصدير البيانات
- طباعة التقرير

## الحقول المعروضة في الجدول
- **رقم السند**: الرقم التسلسلي للسند
- **الرقم المرجعي**: الرقم المرجعي للسند
- **المسلسل الداخلي لفاتورة المشتريات**: المسلسل الداخلي لفاتورة المشتريات
- **رقم فاتورة المشتريات**: رقم فاتورة المشتريات المرتبطة
- **الكود المرجعي لفاتورة المشتريات**: الكود المرجعي لفاتورة المشتريات
- **الموقع**: المخزن المرتبط بالمرتجع
- **تاريخ السند**: تاريخ المرتجع
- **اسم المورد**: اسم المورد
- **الإجمالي**: إجمالي قيمة المرتجع
- **الحالة**: حالة المرتجع
- **أدوات**: أزرار التحكم (تعديل، تفاصيل، طباعة، حذف)

## الحقول المطلوبة عند الإضافة/التعديل
- **رقم السند** (إلزامي)
- **الرقم المرجعي** (اختياري)
- **المسلسل الداخلي لفاتورة المشتريات** (إلزامي) - قائمة منسدلة
- **رقم فاتورة المشتريات** (إلزامي) - قائمة منسدلة
- **الكود المرجعي لفاتورة المشتريات** (إلزامي) - قائمة منسدلة
- **الموقع** (إلزامي) - قائمة منسدلة
- **تاريخ السند** (إلزامي) - تاريخ
- **اسم المورد** (إلزامي) - قائمة منسدلة
- **الإجمالي** (إلزامي) - رقم
- **الحالة** (إلزامي) - قائمة منسدلة
- **الملاحظات** (اختياري)

## أمثلة من البيانات الموجودة
- مرتجعات فواتير شراء مختلفة من الموردين

## أزرار التحكم
- **إضافة جديد**: لفتح نموذج إضافة مرتجع جديد
- **بحث**: للبحث في قائمة المرتجعات
- **تصدير**: لتصدير البيانات
- **طباعة**: لطباعة التقرير

## عمود الأدوات
- **تعديل**: لتعديل المرتجع المحدد
- **تفاصيل**: لعرض تفاصيل المرتجع المحدد
- **طباعة**: لطباعة المرتجع المحدد
- **حذف**: لحذف المرتجع المحدد

## الربط الخلفي
- `Shared.API/Controllers/Purchases/PurchaseInvoiceReturnController`
- `Shared.API/Controllers/Purchases/CashPurchaseInvoiceController`
- `Shared.API/Controllers/Purchases/CreditPurchaseInvoiceController`
- `Shared.API/Controllers/Setup/SuppliersController`
- `Shared.API/Controllers/Setup/LocationsController`

## التفاصيل التقنية
- التحقق من صحة البيانات المدخلة
- ربط المرتجعات بفواتير المشتريات والموردين
- إدارة حالة المرتجعات
- التحقق من عدم تكرار أرقام السندات
- تصدير البيانات بتنسيقات مختلفة
- طباعة تقارير المرتجعات
- حساب القيم تلقائياً
- تحديث رصيد المخزن تلقائياً
- تحديث رصيد المورد تلقائياً
- التحقق من صحة فاتورة المشتريات
- التحقق من صحة المورد والموقع
